{
  "description": "Colgrep hooks - inject context and redirect search tools to colgrep",
  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup|resume",
        "hooks": [
          {
            "type": "command",
            "command": "colgrep --session-hook",
            "timeout": 10
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Grep|Glob",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"hookSpecificOutput\":{\"hookEventName\":\"PreToolUse\",\"additionalContext\":\"Reminder: colgrep is available for semantic code search. Consider using colgrep for better results.\"}}'",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"hookSpecificOutput\":{\"hookEventName\":\"PreToolUse\",\"additionalContext\":\"IMPORTANT: Tell the spawned agent to use colgrep (via Bash) instead of Grep/Glob tools. Include these instructions in your prompt:\\n\\nUse colgrep for ALL code search tasks:\\n- Semantic search: colgrep \\\"error handling\\\" ./src\\n- Pattern search (like grep): colgrep -e \\\"fn main\\\"\\n- Hybrid grep+semantic: colgrep -e \\\"async\\\" \\\"concurrency patterns\\\"\\n- Regex pattern: colgrep -e \\\"Result<.*Error>\\\" -E\\n- Find files (like glob): colgrep -l --include=\\\"**/*.rs\\\" \\\"\\\" .\\n- More results: colgrep -k 25 \\\"query\\\"\\n- Exclude: colgrep --exclude=\\\"*_test.go\\\" \\\"query\\\"\\n\\nDo NOT use Grep or Glob tools - use colgrep via Bash instead.\"}}'",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
